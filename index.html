<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aura AI Pro</title>
    <style>
        :root { 
            --bg: #0f0c29; 
            --card: rgba(255,255,255,0.08); 
            --accent: #00d2ff; 
            --grad: linear-gradient(135deg, #da22ff, #9733ee); 
            --text-sec: #aaa;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg); color: white; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; overflow: hidden; }

        /* === –≠–ö–†–ê–ù "–ù–ï–¢ –°–ï–¢–ò" (–ó–ê–ì–õ–£–®–ö–ê) === */
        #offline-screen { display: none; position: fixed; inset: 0; background: var(--bg); z-index: 99999; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; }
        .wifi-icon { font-size: 60px; margin-bottom: 20px; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }

        /* === –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† === */
        .app-container { display: flex; flex-direction: column; height: 100vh; }
        
        /* –®–ê–ü–ö–ê */
        header { 
            height: 60px; background: rgba(20, 20, 40, 0.9); 
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255,255,255,0.1); 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 0 20px; flex-shrink: 0;
        }
        .brand { font-weight: 900; font-size: 18px; letter-spacing: 1px; background: var(--grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .weather-box { text-align: right; line-height: 1.2; font-size: 12px; }
        .w-temp { color: var(--accent); font-weight: bold; font-size: 15px; }

        /* –ö–û–ù–¢–ï–ù–¢ */
        .main-content { flex: 1; overflow-y: auto; padding: 15px; padding-bottom: 80px; scroll-behavior: smooth; }
        .screen { display: none; animation: fadeUp 0.3s ease-out; }
        .screen.active { display: block; }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* === –ß–ê–¢ === */
        .chat-container { display: flex; flex-direction: column; gap: 15px; }
        .bubble { max-width: 85%; padding: 14px; border-radius: 18px; font-size: 15px; line-height: 1.5; position: relative; }
        .ai-msg { background: var(--card); border-bottom-left-radius: 4px; align-self: flex-start; }
        .user-msg { background: #2575fc; color: white; border-bottom-right-radius: 4px; align-self: flex-end; box-shadow: 0 4px 15px rgba(37, 117, 252, 0.3); }
        .system-msg { text-align: center; font-size: 12px; color: var(--text-sec); margin: 10px 0; }
        
        /* === –ò–ù–ü–£–¢ –ë–ê–† === */
        .input-bar { 
            position: fixed; bottom: 65px; left: 0; right: 0; 
            background: #13172e; padding: 10px 15px; 
            display: flex; align-items: center; gap: 10px; 
            border-top: 1px solid rgba(255,255,255,0.1); 
            z-index: 100;
        }
        .icon-btn { background: none; border: none; font-size: 22px; cursor: pointer; padding: 5px; opacity: 0.8; transition: 0.2s; }
        .icon-btn:active { transform: scale(0.9); opacity: 1; }
        .msg-input { flex: 1; background: rgba(255,255,255,0.1); border: none; border-radius: 25px; padding: 12px 15px; color: white; font-size: 15px; }
        .send-btn { color: var(--accent); font-size: 24px; padding: 0 5px; }

        /* === –ò–ù–°–¢–†–£–ú–ï–ù–¢–´ (–ì–†–ò–î) === */
        .tools-header { margin-bottom: 15px; font-size: 20px; font-weight: bold; }
        .tools-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .tool-card { 
            background: rgba(255,255,255,0.05); padding: 20px 15px; 
            border-radius: 20px; text-align: center; 
            border: 1px solid rgba(255,255,255,0.05); 
            transition: all 0.2s; cursor: pointer;
        }
        .tool-card:active { background: rgba(255,255,255,0.15); transform: scale(0.98); }
        .t-icon { font-size: 32px; display: block; margin-bottom: 10px; }
        .t-name { font-weight: bold; font-size: 14px; display: block; margin-bottom: 4px; }
        .t-desc { font-size: 11px; color: var(--text-sec); }

        /* === –ü–†–û–§–ò–õ–¨ / –û–ü–õ–ê–¢–ê === */
        .pro-card { 
            background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.02)); 
            border-radius: 25px; padding: 30px 20px; text-align: center; 
            border: 1px solid rgba(255,255,255,0.1); margin-top: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .price-tag { font-size: 36px; font-weight: 800; margin: 15px 0; color: white; }
        .pay-btn { 
            background: var(--grad); color: white; border: none; 
            padding: 18px; width: 100%; border-radius: 15px; 
            font-weight: bold; font-size: 16px; margin-top: 15px; 
            box-shadow: 0 5px 20px rgba(218, 34, 255, 0.4);
            cursor: pointer;
        }
        .pay-btn:active { transform: scale(0.98); opacity: 0.9; }

        /* === –ù–ê–í–ò–ì–ê–¶–ò–Ø === */
        nav { 
            height: 65px; background: #0b0e1e; 
            display: flex; justify-content: space-around; align-items: center; 
            border-top: 1px solid rgba(255,255,255,0.1); 
            position: fixed; bottom: 0; width: 100%; z-index: 200;
        }
        .nav-item { 
            flex: 1; text-align: center; color: #666; 
            font-size: 10px; padding: 10px; transition: 0.3s; 
        }
        .nav-icon { font-size: 22px; margin-bottom: 4px; display: block; }
        .nav-item.active { color: var(--accent); }
    </style>
</head>
<body>

<div id="offline-screen">
    <div class="wifi-icon">üì°</div>
    <h2>–ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</h2>
    <p style="color: #ccc; margin-top: 10px;">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏</p>
    <button onclick="location.reload()" style="margin-top:20px; background:var(--accent); border:none; padding:12px 30px; border-radius:10px; font-weight:bold;">–û–±–Ω–æ–≤–∏—Ç—å</button>
</div>

<div class="app-container">
    <header>
        <div class="brand">AURA AI PRO</div>
        <div class="weather-box" id="weather-widget">
            <div class="w-temp">--¬∞C</div>
            <div id="w-city" style="color:#ccc;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
    </header>

    <div class="main-content">
        
        <div id="view-chat" class="screen active">
            <div class="chat-container" id="chat-history">
                <div class="bubble ai-msg">
                    üëã <b>–ü—Ä–∏–≤–µ—Ç! –Ø Aura AI.</b><br><br>
                    –ü–æ–≥–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞. –Ø –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å —Å –∫–æ–¥–æ–º, —Ç–µ–∫—Å—Ç–∞–º–∏ –∏–ª–∏ —Å–æ–≤–µ—Ç–æ–º. –ù–∞–∂–º–∏ –Ω–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏–ª–∏ –∫–∞–º–µ—Ä—É –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π!
                </div>
            </div>
        </div>

        <div id="view-tools" class="screen">
            <div class="tools-header">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è AI</div>
            <div class="tools-grid">
                <div class="tool-card" onclick="runTool('–ú–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å –ø—Å–∏—Ö–æ–ª–æ–≥–∞. –°–∏—Ç—É–∞—Ü–∏—è:', '–ü—Å–∏—Ö–æ–ª–æ–≥')">
                    <span class="t-icon">üß†</span><span class="t-name">–ü—Å–∏—Ö–æ–ª–æ–≥</span><span class="t-desc">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</span>
                </div>
                <div class="tool-card" onclick="runTool('–ù—É–∂–µ–Ω —Å–æ–≤–µ—Ç —é—Ä–∏—Å—Ç–∞ –ø–æ –≤–æ–ø—Ä–æ—Å—É:', '–Æ—Ä–∏—Å—Ç')">
                    <span class="t-icon">‚öñÔ∏è</span><span class="t-name">–Æ—Ä–∏—Å—Ç</span><span class="t-desc">–ü—Ä–∞–≤–æ</span>
                </div>
                <div class="tool-card" onclick="runTool('–û–±—ä—è—Å–Ω–∏ —ç—Ç—É —Ç–µ–º—É:', '–†–µ–ø–µ—Ç–∏—Ç–æ—Ä')">
                    <span class="t-icon">üéì</span><span class="t-name">–†–µ–ø–µ—Ç–∏—Ç–æ—Ä</span><span class="t-desc">–û–±—É—á–µ–Ω–∏–µ</span>
                </div>
                <div class="tool-card" onclick="runTool('–ù–∞–ø–∏—à–∏ –∫–æ–¥ –Ω–∞ Python:', '–ö–æ–¥–∏–Ω–≥')">
                    <span class="t-icon">üíª</span><span class="t-name">IT –≠–∫—Å–ø–µ—Ä—Ç</span><span class="t-desc">–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</span>
                </div>
                <div class="tool-card" onclick="runTool('–°–æ—Å—Ç–∞–≤—å –ø–ª–∞–Ω –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –≤:', 'Travel')">
                    <span class="t-icon">‚úàÔ∏è</span><span class="t-name">Travel</span><span class="t-desc">–ú–∞—Ä—à—Ä—É—Ç—ã</span>
                </div>
                <div class="tool-card" onclick="runTool('–ü–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π:', '–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫')">
                    <span class="t-icon">üá¨üáß</span><span class="t-name">–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫</span><span class="t-desc">–Ø–∑—ã–∫–∏</span>
                </div>
            </div>
        </div>

        <div id="view-profile" class="screen">
            <div class="pro-card">
                <h3>PREMIUM ACCESS</h3>
                <p style="color:#ccc; font-size:13px; margin-top:10px;">
                    ‚úÖ DeepSeek-V3 (–ë–µ–∑–ª–∏–º–∏—Ç)<br>
                    ‚úÖ –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ –∏ –§–æ—Ç–æ<br>
                    ‚úÖ –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —ç–∫—Å–ø–µ—Ä—Ç–∞–º
                </p>
                <div class="price-tag">990 ‚ÇΩ</div>
                <button class="pay-btn" onclick="openPayment()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ PRO</button>
                <p style="font-size:10px; color:#666; margin-top:15px;">–†–∞–∑–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂. –î–æ—Å—Ç—É–ø –Ω–∞–≤—Å–µ–≥–¥–∞.</p>
            </div>
        </div>

    </div>

    <div class="input-bar" id="input-bar">
        <button class="icon-btn" onclick="fakeMedia('üì∑')">üì∑</button>
        <button class="icon-btn" onclick="fakeMedia('üé§')">üé§</button>
        <input type="text" class="msg-input" id="user-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="handleKey(event)">
        <button class="icon-btn send-btn" onclick="sendMessage()">‚û§</button>
    </div>

    <nav>
        <div class="nav-item active" id="btn-chat" onclick="switchTab('chat')">
            <span class="nav-icon">üí¨</span> –ß–∞—Ç
        </div>
        <div class="nav-item" id="btn-tools" onclick="switchTab('tools')">
            <span class="nav-icon">üõ†</span> –ó–∞–¥–∞—á–∏
        </div>
        <div class="nav-item" id="btn-profile" onclick="switchTab('profile')">
            <span class="nav-icon">üë§</span> –ü—Ä–æ—Ñ–∏–ª—å
        </div>
    </nav>
</div>

<script>
    // === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ===
    // –¢–≤–æ—è —Ä–∞–±–æ—á–∞—è –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤–∞—è —Å—Å—ã–ª–∫–∞
    const PAYMENT_URL = 'https://yookassa.ru/my/i/aZHd_rui8F2g/l'; 

    // === 1. –ü–û–ì–û–î–ê (–ë–ï–ó–û–ü–ê–°–ù–´–ô –ó–ê–ü–†–û–°) ===
    async function initWeather() {
        const t = document.querySelector('.w-temp');
        const c = document.getElementById('w-city');
        
        try {
            // –®–∞–≥ 1: IP –ì–µ–æ
            const r1 = await fetch('https://get.geojs.io/v1/ip/geo.json');
            const d1 = await r1.json();
            const { latitude, longitude, city } = d1;
            
            // –®–∞–≥ 2: –ü–æ–≥–æ–¥–∞ Open-Meteo
            const r2 = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true`);
            const d2 = await r2.json();
            
            // –®–∞–≥ 3: –í—ã–≤–æ–¥
            t.innerText = Math.round(d2.current_weather.temperature) + "¬∞C";
            c.innerText = city || "–õ–æ–∫–∞—Ü–∏—è";
        } catch (e) {
            // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ (VPN –∏ —Ç.–¥.) - —Å—Ç–∞–≤–∏–º –¥–µ—Ñ–æ–ª—Ç
            console.log(e);
            t.innerText = "20¬∞C";
            c.innerText = "–ú–æ—Å–∫–≤–∞";
        }
    }

    // === 2. –ù–ê–í–ò–ì–ê–¶–ò–Ø ===
    function switchTab(tabName) {
        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
        document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
        
        // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–π
        document.getElementById('view-' + tabName).classList.add('active');
        document.getElementById('btn-' + tabName).classList.add('active');

        // –õ–æ–≥–∏–∫–∞ –∏–Ω–ø—É—Ç-–±–∞—Ä–∞
        const bar = document.getElementById('input-bar');
        if (tabName === 'chat') {
            bar.style.display = 'flex';
            setTimeout(() => window.scrollTo(0, document.body.scrollHeight), 100);
        } else {
            bar.style.display = 'none';
        }
    }

    // === 3. –ß–ê–¢ –ò –°–û–û–ë–©–ï–ù–ò–Ø ===
    function sendMessage(textOverride) {
        const input = document.getElementById('user-input');
        const text = textOverride || input.value.trim();
        if (!text) return;

        // 1. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —é–∑–µ—Ä–∞
        appendMsg(text, 'user-msg');
        input.value = '';
        
        // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —á–∞—Ç, –µ—Å–ª–∏ –º—ã –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö
        if (document.getElementById('view-chat').className.indexOf('active') === -1) {
            switchTab('chat');
        }

        // 2. –ò–º–∏—Ç–∞—Ü–∏—è "–î—É–º–∞–µ—Ç..."
        const chatBox = document.getElementById('chat-history');
        const loaderId = 'loader-' + Date.now();
        chatBox.innerHTML += `<div id="${loaderId}" class="system-msg">Aura –ø–µ—á–∞—Ç–∞–µ—Ç...</div>`;
        scrollToBottom();

        // 3. –û—Ç–≤–µ—Ç (–ò–º–∏—Ç–∞—Ü–∏—è PRO)
        setTimeout(() => {
            document.getElementById(loaderId).remove();
            appendMsg("–î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–≥–æ —Å–ª–æ–∂–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏ DeepSeek-V3 —Ç—Ä–µ–±—É–µ—Ç—Å—è PRO-–≤–µ—Ä—Å–∏—è. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ—ë –≤ –ø—Ä–æ—Ñ–∏–ª–µ.", 'ai-msg');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—Ä—è–º–æ –≤ —á–∞—Ç
            chatBox.innerHTML += `
                <div class="system-msg">
                    <button onclick="switchTab('profile')" style="background:none; border:1px solid var(--accent); color:var(--accent); padding:5px 15px; border-radius:15px; cursor:pointer;">–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å</button>
                </div>`;
            scrollToBottom();
        }, 800);
    }

    function appendMsg(html, type) {
        const box = document.getElementById('chat-history');
        const div = document.createElement('div');
        div.className = `bubble ${type}`;
        div.innerHTML = html;
        box.appendChild(div);
        scrollToBottom();
    }

    function scrollToBottom() {
        const content = document.querySelector('.main-content');
        content.scrollTop = content.scrollHeight;
    }

    function handleKey(e) {
        if (e.key === 'Enter') sendMessage();
    }

    // === 4. –õ–û–ì–ò–ö–ê –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í ===
    function runTool(prefix, toolName) {
        sendMessage(`[${toolName}] ${prefix}`);
    }

    // === 5. –ö–ê–ú–ï–†–ê / –ú–ò–ö–†–û–§–û–ù (–ò–º–∏—Ç–∞—Ü–∏—è) ===
    function fakeMedia(icon) {
        if(confirm(`–§—É–Ω–∫—Ü–∏—è ${icon} –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ PRO-–≤–µ—Ä—Å–∏–∏. –ü–µ—Ä–µ–π—Ç–∏ –∫ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏?`)) {
            switchTab('profile');
        }
    }

    // === 6. –û–ü–õ–ê–¢–ê ===
    function openPayment() {
        if(confirm("–û—Ç–∫—Ä—ã—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã?")) {
            const link = document.createElement('a');
            link.href = PAYMENT_URL;
            link.target = '_blank'; // –í–∞–∂–Ω–æ –¥–ª—è WebView
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    }

    // === 7. –û–§–õ–ê–ô–ù –ü–†–û–í–ï–†–ö–ê ===
    function checkNetwork() {
        const isOffline = !navigator.onLine;
        document.getElementById('offline-screen').style.display = isOffline ? 'flex' : 'none';
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    window.onload = () => {
        checkNetwork();
        initWeather();
        setInterval(checkNetwork, 2000); // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫
    };
    window.addEventListener('online', checkNetwork);
    window.addEventListener('offline', checkNetwork);
</script>

</body>
</html>
