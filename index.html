<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aura AI ‚Äî –°–µ—Ä–≤–∏—Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤</title>
    <script src="https://yookassa.ru/checkout-widget/v1/checkout-widget.js"></script>
    <style>
        body {
            background-color: #0f0c29;
            background-image: linear-gradient(315deg, #0f0c29 0%, #302b63 74%, #24243e 100%);
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            margin: 0; padding: 10px; display: flex; flex-direction: column; min-height: 100vh; box-sizing: border-box;
        }
        .container { max-width: 600px; margin: 0 auto; width: 100%; display: flex; flex-direction: column; flex-grow: 1; }
        h1 { font-size: 22px; margin: 0; background: linear-gradient(#00d2ff, #3a7bd5); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { font-size: 11px; color: #aab2bd; margin-bottom: 15px; }
        
        /* –ß–∞—Ç –∏ —Ä–æ–ª–∏ */
        .roles-container { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 10px; scrollbar-width: none; flex-shrink: 0; }
        .role-btn {
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white;
            padding: 8px 15px; border-radius: 20px; white-space: nowrap; font-size: 11px; cursor: pointer;
        }
        .role-btn.active { background: #9733ee; border-color: #da22ff; box-shadow: 0 0 10px rgba(218, 34, 255, 0.5); }

        #chat-container {
            flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; gap: 10px;
            padding: 15px; margin-bottom: 15px; background: rgba(0,0,0,0.2); border-radius: 20px; min-height: 300px;
        }
        .msg { max-width: 85%; padding: 12px; border-radius: 15px; font-size: 14px; line-height: 1.4; }
        .msg-user { align-self: flex-end; background: linear-gradient(45deg, #3a7bd5, #00d2ff); }
        .msg-ai { align-self: flex-start; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1); }

        /* –í–≤–æ–¥ */
        .input-area { background: rgba(255,255,255,0.07); border-radius: 20px; padding: 15px; margin-bottom: 20px; }
        textarea { width: 100%; background: transparent; border: none; color: white; font-size: 16px; resize: none; outline: none; min-height: 40px; }
        .btn-send { background: #9733ee; color: white; border: none; padding: 10px 20px; border-radius: 12px; font-weight: bold; cursor: pointer; }

        /* –¢–∞—Ä–∏—Ñ—ã –¥–ª—è –ÆKassa */
        .pricing-card {
            background: rgba(218, 34, 255, 0.1); border: 1px solid rgba(218, 34, 255, 0.4);
            border-radius: 20px; padding: 20px; margin-bottom: 30px; text-align: center;
        }
        .price-tag { font-size: 32px; font-weight: bold; margin: 10px 0; color: #da22ff; }

        /* –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Ñ—É—Ç–µ—Ä */
        footer {
            margin-top: auto; padding: 20px; border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 12px; color: #aab2bd; line-height: 1.6;
        }
        footer h4 { color: white; margin-bottom: 8px; font-size: 14px; }
        footer a { color: #da22ff; text-decoration: none; }

        #payment-form { display: none; position: fixed; top: 10%; left: 5%; width: 90%; background: white; padding: 20px; border-radius: 20px; z-index: 100; }
    </style>
</head>
<body>

<div class="container">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-top: 10px;">
        <h1>Aura AI</h1>
        <button onclick="clearHistory()" style="background:none; border:none; color:#ff4b2b; font-size:10px; cursor:pointer;">–û–ß–ò–°–¢–ò–¢–¨</button>
    </div>
    <p class="subtitle">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç –Ω–∞ –±–∞–∑–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞</p>

    <div class="roles-container">
        <button class="role-btn active" onclick="setRole(this, '–û–±—â–∏–π –ø–æ–º–æ—â–Ω–∏–∫')">ü§ñ –û–±—â–∏–π</button>
        <button class="role-btn" onclick="setRole(this, '–†–µ–ø–µ—Ç–∏—Ç–æ—Ä')">üë®‚Äçüè´ –†–µ–ø–µ—Ç–∏—Ç–æ—Ä</button>
        <button class="role-btn" onclick="setRole(this, '–Æ—Ä–∏—Å—Ç')">‚öñÔ∏è –Æ—Ä–∏—Å—Ç</button>
        <button class="role-btn" onclick="setRole(this, '–ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥')">üìà –ú–∞—Ä–∫–µ—Ç</button>
    </div>

    <div id="chat-container"></div>

    <div class="input-area">
        <div id="role-display" style="font-size:10px; color:#00ff88; margin-bottom:5px;">‚óè –†–ï–ñ–ò–ú: –û–ë–©–ò–ô –ü–û–ú–û–©–ù–ò–ö</div>
        <textarea id="user-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..."></textarea>
        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:10px;">
            <div style="font-size:20px; cursor:pointer;" onclick="handleFile()">üì∑ üé§</div>
            <button class="btn-send" onclick="sendToAI()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <div class="pricing-card" id="pricing">
        <h3 style="margin:0;">–¢–∞—Ä–∏—Ñ "Aura Pro"</h3>
        <p style="font-size:13px; opacity:0.8;">–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Ñ–æ—Ç–æ-–∑–∞–¥–∞—á</p>
        <div class="price-tag">990 ‚ÇΩ</div>
        <p style="font-size:11px;">–î–æ—Å—Ç—É–ø –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ 30 –¥–Ω–µ–π. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.</p>
        <button class="btn-send" style="width:100%;" onclick="initPayment()">–ö—É–ø–∏—Ç—å –¥–æ—Å—Ç—É–ø</button>
    </div>

    <footer>
        <div style="margin-bottom: 20px;">
            <h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–ª–∞—Ç–µ –∏ –¥–æ—Å—Ç–∞–≤–∫–µ:</h4>
            <p>‚óè <b>–û–ø–ª–∞—Ç–∞:</b> –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã (–ú–ò–†, Visa, Mastercard) –∏ –°–ë–ü —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å –ÆKassa.</p>
            <p>‚óè <b>–î–æ—Å—Ç–∞–≤–∫–∞:</b> –¶–∏—Ñ—Ä–æ–≤–æ–π —Ç–æ–≤–∞—Ä. –î–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º "Aura Pro" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞.</p>
            <p>‚óè <b>–í–æ–∑–≤—Ä–∞—Ç:</b> –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø–∏—à–∏—Ç–µ –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É.</p>
        </div>

        <div>
            <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã:</h4>
            <p>–ò–ü / –°–∞–º–æ–∑–∞–Ω—è—Ç—ã–π: [–®–∫—É—Ä–µ–Ω–∫–æ –ê–Ω–¥—Ä–µ–π –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á]</p>
            <p>–ò–ù–ù: [–ò–ù–ù 614550465916]</p>
            <p>Email: [Arharius@yandex.ru]</p>
            <p><a href="#">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –∏ –æ—Ñ–µ—Ä—Ç–∞</a></p>
        </div>
        <p style="text-align:center; margin-top:20px; opacity:0.5;">¬© 2026 Aura AI</p>
    </footer>
</div>

<div id="payment-form"></div>

<script>
    // === –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ===
    const DEEPSEEK_KEY = 'sk-a5e1d303aeee4ecdade7de51b6768a58'; 
    const YOOKASSA_TOKEN = '–í–°–¢–ê–í–¨_–°–Æ–î–ê_–¢–û–ö–ï–ù';
    // ===================

    let currentRole = '–û–±—â–∏–π –ø–æ–º–æ—â–Ω–∏–∫';
    let history = JSON.parse(localStorage.getItem('aura_history') || '[]');
    let messageCount = parseInt(localStorage.getItem('aura_count') || '0');
    let isPro = false;

    window.onload = () => { renderHistory(); };

    function setRole(btn, role) {
        currentRole = role;
        document.getElementById('role-display').innerText = '‚óè –†–ï–ñ–ò–ú: ' + role.toUpperCase();
        document.querySelectorAll('.role-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    function renderHistory() {
        const container = document.getElementById('chat-container');
        container.innerHTML = history.map(m => `
            <div class="msg ${m.role === 'user' ? 'msg-user' : 'msg-ai'}">
                ${m.text.replace(/\n/g, '<br>')}
            </div>
        `).join('');
        container.scrollTop = container.scrollHeight;
    }

    async function sendToAI() {
        const input = document.getElementById('user-input');
        const text = input.value.trim();
        if (!text) return;

        if (messageCount >= 3 && !isPro) {
            alert("–õ–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –∏—Å—á–µ—Ä–ø–∞–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–∏–æ–±—Ä–µ—Ç–∏—Ç–µ Aura Pro –Ω–∏–∂–µ.");
            document.getElementById('pricing').scrollIntoView({behavior: "smooth"});
            return;
        }

        history.push({role: 'user', text: text});
        renderHistory();
        input.value = "Aura AI –¥—É–º–∞–µ—Ç...";

        try {
            const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
                method: 'POST',
                headers: {'Content-Type': 'application/json', 'Authorization': `Bearer ${DEEPSEEK_KEY}`},
                body: JSON.stringify({
                    model: "deepseek-chat",
                    messages: [{role: "system", content: `–¢—ã ${currentRole}`}, {role: "user", content: text}]
                })
            });
            const data = await response.json();
            const aiText = data.choices[0].message.content;
            
            history[history.length-1].text = text; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–µ–∫—Å—Ç —é–∑–µ—Ä–∞
            history.push({role: 'ai', text: aiText});
            messageCount++;
            localStorage.setItem('aura_history', JSON.stringify(history));
            localStorage.setItem('aura_count', messageCount);
            renderHistory();
        } catch (e) {
            alert("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á.");
        }
        input.value = "";
    }

    function initPayment() {
        if (YOOKASSA_TOKEN.includes('–í–°–¢–ê–í–¨')) {
            alert("–ü–ª–∞—Ç–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.");
            return;
        }
        document.getElementById('payment-form').style.display = 'block';
        new window.YooMoneyCheckoutWidget({
            confirmation_token: YOOKASSA_TOKEN,
            return_url: window.location.href
        }).render('payment-form');
    }

    function clearHistory() { localStorage.clear(); location.reload(); }
    function handleFile() { alert("–§—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Aura Pro"); }
</script>
</body>
</html>
